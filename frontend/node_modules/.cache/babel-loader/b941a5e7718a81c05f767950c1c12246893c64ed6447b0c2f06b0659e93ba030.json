{"ast":null,"code":"import{motion,AnimatePresence}from\"framer-motion\";import{Link}from\"react-router-dom\";import ConfettiBurst from\"../components/ConfettiBurst\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LandingPage=()=>{const[confetti,setConfetti]=useState(false);const[raffles,setRaffles]=useState([]);const[error,setError]=useState(\"\");useEffect(()=>{const fetchRaffles=async()=>{try{console.log(\"Fetching raffles for LandingPage\");const response=await axios.get(\"http://localhost:5000/api/raffles\");console.log(\"Raffles data:\",response.data);// Filter active raffles (no winner and endTime > now)\nconst activeRaffles=response.data.filter(raffle=>!raffle.winner&&new Date(raffle.endTime)>new Date());setRaffles(activeRaffles);}catch(err){var _err$response,_err$response2,_err$response2$data;console.error(\"Error fetching raffles:\",((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||err.message);setError(\"Failed to load raffles: \".concat(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||err.message));}};fetchRaffles();// Stop confetti after 3 seconds\nconst timer=setTimeout(()=>setConfetti(false),3000);return()=>clearTimeout(timer);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-[#FFD93D] to-[#6BCB77] flex flex-col items-center p-6\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:0.8},className:\"text-center mb-8\",onHoverStart:()=>setConfetti(true),onHoverEnd:()=>setConfetti(false),children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#4D96FF] p-4 flex justify-center items-center mb-6 rounded-t-2xl\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-poppins font-bold text-[#4D96FF] mb-4\",children:\"Welcome to Raffle Hub\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl text-gray-700 dark:text-gray-200\",children:\"Your Chance to Win Big, One Ticket at a Time!\"})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.2},className:\"w-full max-w-2xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-poppins font-semibold text-[#FF6B6B] mb-6 text-center\",children:\"Join a Raffle\"}),error?/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-center\",children:error}):raffles.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400 text-center\",children:\"No active raffles available. Check back soon!\"}):/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-4\",children:raffles.map(raffle=>/*#__PURE__*/_jsx(motion.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:0.3},className:\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",children:/*#__PURE__*/_jsx(Link,{to:\"/raffle/\".concat(raffle._id),className:\"block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[raffle.prizeImage&&/*#__PURE__*/_jsx(\"img\",{src:raffle.prizeImage,alt:raffle.title,className:\"w-16 h-16 object-cover rounded-lg mr-4\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-poppins font-semibold text-[#4D96FF]\",children:raffle.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-200 text-sm\",children:raffle.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 mt-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 dark:text-gray-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Prize:\"}),\" GHS \",raffle.cashPrize]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 dark:text-gray-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Ticket:\"}),\" GHS \",raffle.ticketPrice]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 dark:text-gray-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Ends:\"}),\" \",new Date(raffle.endTime).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 dark:text-gray-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Participants:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-[#6BCB77] font-bold\",children:raffle.participants.length})]})]})]})]})})},raffle._id))})})]}),/*#__PURE__*/_jsx(ConfettiBurst,{trigger:confetti})]});};export default LandingPage;","map":{"version":3,"names":["motion","AnimatePresence","Link","ConfettiBurst","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","LandingPage","confetti","setConfetti","raffles","setRaffles","error","setError","fetchRaffles","console","log","response","get","data","activeRaffles","filter","raffle","winner","Date","endTime","err","_err$response","_err$response2","_err$response2$data","message","concat","timer","setTimeout","clearTimeout","className","children","div","initial","opacity","y","animate","transition","duration","onHoverStart","onHoverEnd","delay","length","map","li","x","exit","to","_id","prizeImage","src","alt","title","description","cashPrize","ticketPrice","toLocaleString","participants","trigger"],"sources":["C:/Users/opoku/Desktop/Raffle_Frontend/frontend/src/pages/LandingPage.js"],"sourcesContent":["import { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ConfettiBurst from \"../components/ConfettiBurst\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst LandingPage = () => {\r\n  const [confetti, setConfetti] = useState(false);\r\n  const [raffles, setRaffles] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchRaffles = async () => {\r\n      try {\r\n        console.log(\"Fetching raffles for LandingPage\");\r\n        const response = await axios.get(\"http://localhost:5000/api/raffles\");\r\n        console.log(\"Raffles data:\", response.data);\r\n        // Filter active raffles (no winner and endTime > now)\r\n        const activeRaffles = response.data.filter(\r\n          (raffle) =>\r\n            !raffle.winner && new Date(raffle.endTime) > new Date()\r\n        );\r\n        setRaffles(activeRaffles);\r\n      } catch (err) {\r\n        console.error(\"Error fetching raffles:\", err.response?.data || err.message);\r\n        setError(`Failed to load raffles: ${err.response?.data?.error || err.message}`);\r\n      }\r\n    };\r\n    fetchRaffles();\r\n\r\n    // Stop confetti after 3 seconds\r\n    const timer = setTimeout(() => setConfetti(false), 3000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-[#FFD93D] to-[#6BCB77] flex flex-col items-center p-6\">\r\n      <motion.div\r\n        initial={{ opacity: 0, y: -50 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.8 }}\r\n        className=\"text-center mb-8\"\r\n        onHoverStart={() => setConfetti(true)}\r\n        onHoverEnd={() => setConfetti(false)}\r\n      >\r\n        <div className=\"bg-[#4D96FF] p-4 flex justify-center items-center mb-6 rounded-t-2xl\">\r\n          \r\n        </div>\r\n        <h1 className=\"text-5xl font-poppins font-bold text-[#4D96FF] mb-4\">\r\n          Welcome to Raffle Hub\r\n        </h1>\r\n        <p className=\"text-2xl text-gray-700 dark:text-gray-200\">\r\n          Your Chance to Win Big, One Ticket at a Time!\r\n        </p>\r\n      </motion.div>\r\n\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.5, delay: 0.2 }}\r\n        className=\"w-full max-w-2xl\"\r\n      >\r\n        <h2 className=\"text-3xl font-poppins font-semibold text-[#FF6B6B] mb-6 text-center\">\r\n          Join a Raffle\r\n        </h2>\r\n        {error ? (\r\n          <div className=\"text-red-500 text-center\">{error}</div>\r\n        ) : raffles.length === 0 ? (\r\n          <p className=\"text-gray-500 dark:text-gray-400 text-center\">\r\n            No active raffles available. Check back soon!\r\n          </p>\r\n        ) : (\r\n          <AnimatePresence>\r\n            <ul className=\"space-y-4\">\r\n              {raffles.map((raffle) => (\r\n                <motion.li\r\n                  key={raffle._id}\r\n                  initial={{ opacity: 0, x: -20 }}\r\n                  animate={{ opacity: 1, x: 0 }}\r\n                  exit={{ opacity: 0, x: 20 }}\r\n                  transition={{ duration: 0.3 }}\r\n                  className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\r\n                >\r\n                  <Link to={`/raffle/${raffle._id}`} className=\"block\">\r\n                    <div className=\"flex items-center\">\r\n                      {raffle.prizeImage && (\r\n                        <img\r\n                          src={raffle.prizeImage}\r\n                          alt={raffle.title}\r\n                          className=\"w-16 h-16 object-cover rounded-lg mr-4\"\r\n                        />\r\n                      )}\r\n                      <div>\r\n                        <h3 className=\"text-xl font-poppins font-semibold text-[#4D96FF]\">\r\n                          {raffle.title}\r\n                        </h3>\r\n                        <p className=\"text-gray-600 dark:text-gray-200 text-sm\">\r\n                          {raffle.description}\r\n                        </p>\r\n                        <div className=\"grid grid-cols-2 gap-2 mt-2 text-sm\">\r\n                          <p className=\"text-gray-700 dark:text-gray-200\">\r\n                            <span className=\"font-semibold\">Prize:</span> GHS {raffle.cashPrize}\r\n                          </p>\r\n                          <p className=\"text-gray-700 dark:text-gray-200\">\r\n                            <span className=\"font-semibold\">Ticket:</span> GHS {raffle.ticketPrice}\r\n                          </p>\r\n                          <p className=\"text-gray-700 dark:text-gray-200\">\r\n                            <span className=\"font-semibold\">Ends:</span>{\" \"}\r\n                            {new Date(raffle.endTime).toLocaleString()}\r\n                          </p>\r\n                          <p className=\"text-gray-700 dark:text-gray-200\">\r\n                            <span className=\"font-semibold\">Participants:</span>{\" \"}\r\n                            <span className=\"text-[#6BCB77] font-bold\">\r\n                              {raffle.participants.length}\r\n                            </span>\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                </motion.li>\r\n              ))}\r\n            </ul>\r\n          </AnimatePresence>\r\n        )}\r\n      </motion.div>\r\n\r\n      <ConfettiBurst trigger={confetti} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LandingPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}