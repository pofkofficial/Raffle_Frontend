{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\opoku\\\\Desktop\\\\raffle-hub\\\\frontend\\\\src\\\\pages\\\\RaffleDetails.js\",\n  _s = $RefreshSig$();\nimport { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { PaystackButton } from 'react-paystack';\nimport CountdownTimer from '../components/CountdownTimer';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RaffleDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [raffle, setRaffle] = useState(null);\n  const [name, setName] = useState('');\n  const [contact, setContact] = useState('');\n  const [email, setEmail] = useState(''); // For Paystack\n\n  useEffect(() => {\n    axios.get(`/api/raffles/${id}`).then(res => setRaffle(res.data));\n  }, [id]);\n  const publicKey = 'pk_test_xxxx'; // From Paystack\n  const componentProps = {\n    email,\n    amount: (raffle === null || raffle === void 0 ? void 0 : raffle.ticketPrice) * 100,\n    currency: 'GHS',\n    metadata: {\n      name,\n      contact,\n      raffleId: id\n    },\n    publicKey,\n    text: 'Join Now',\n    onSuccess: () => window.location.href = `/ticket/${id}` // Redirect to download\n  };\n  if (!raffle) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    className: \"p-8 bg-white rounded-lg shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: raffle.prizeImage,\n      alt: \"Prize\",\n      className: \"w-full h-64 object-cover\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CountdownTimer, {\n      endTime: raffle.endTime\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Display Name\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      className: \"border p-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Contact Number\",\n      value: contact,\n      onChange: e => setContact(e.target.value),\n      className: \"border p-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      className: \"border p-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), raffle.ticketPrice > 0 ? /*#__PURE__*/_jsxDEV(PaystackButton, {\n      ...componentProps,\n      className: \"bg-[#4D96FF] text-white p-4 rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => axios.post('/api/raffles/init-payment', {\n        raffleId: id,\n        displayName: name,\n        contact\n      }).then(() => window.location.href = `/ticket/${id}`),\n      className: \"bg-[#4D96FF] text-white p-4 rounded\",\n      children: \"Join Free\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: raffle.participants.map(p => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: p.displayName\n      }, p.ticketNumber, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 41\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(RaffleDetails, \"MQy9hOUwcj/6CniT3qWHW5yLSXA=\", false, function () {\n  return [useParams];\n});\n_c = RaffleDetails;\nexport default RaffleDetails;\nvar _c;\n$RefreshReg$(_c, \"RaffleDetails\");","map":{"version":3,"names":["useParams","useState","useEffect","axios","PaystackButton","CountdownTimer","motion","jsxDEV","_jsxDEV","RaffleDetails","_s","id","raffle","setRaffle","name","setName","contact","setContact","email","setEmail","get","then","res","data","publicKey","componentProps","amount","ticketPrice","currency","metadata","raffleId","text","onSuccess","window","location","href","children","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","animate","className","src","prizeImage","alt","endTime","placeholder","value","onChange","e","target","onClick","post","displayName","participants","map","p","ticketNumber","_c","$RefreshReg$"],"sources":["C:/Users/opoku/Desktop/raffle-hub/frontend/src/pages/RaffleDetails.js"],"sourcesContent":["import { useParams } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { PaystackButton } from 'react-paystack';\r\nimport CountdownTimer from '../components/CountdownTimer';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst RaffleDetails = () => {\r\n  const { id } = useParams();\r\n  const [raffle, setRaffle] = useState(null);\r\n  const [name, setName] = useState('');\r\n  const [contact, setContact] = useState('');\r\n  const [email, setEmail] = useState(''); // For Paystack\r\n\r\n  useEffect(() => {\r\n    axios.get(`/api/raffles/${id}`).then(res => setRaffle(res.data));\r\n  }, [id]);\r\n\r\n  const publicKey = 'pk_test_xxxx'; // From Paystack\r\n  const componentProps = {\r\n    email,\r\n    amount: raffle?.ticketPrice * 100,\r\n    currency: 'GHS',\r\n    metadata: { name, contact, raffleId: id },\r\n    publicKey,\r\n    text: 'Join Now',\r\n    onSuccess: () => window.location.href = `/ticket/${id}`, // Redirect to download\r\n  };\r\n\r\n  if (!raffle) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"p-8 bg-white rounded-lg shadow-lg\">\r\n      <img src={raffle.prizeImage} alt=\"Prize\" className=\"w-full h-64 object-cover\" />\r\n      <CountdownTimer endTime={raffle.endTime} />\r\n      <input placeholder=\"Display Name\" value={name} onChange={e => setName(e.target.value)} className=\"border p-2\" />\r\n      <input placeholder=\"Contact Number\" value={contact} onChange={e => setContact(e.target.value)} className=\"border p-2\" />\r\n      <input placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} className=\"border p-2\" />\r\n      {raffle.ticketPrice > 0 ? (\r\n        <PaystackButton {...componentProps} className=\"bg-[#4D96FF] text-white p-4 rounded\" />\r\n      ) : (\r\n        <button onClick={() => axios.post('/api/raffles/init-payment', { raffleId: id, displayName: name, contact }).then(() => window.location.href = `/ticket/${id}`)} className=\"bg-[#4D96FF] text-white p-4 rounded\">\r\n          Join Free\r\n        </button>\r\n      )}\r\n      {/* Participants list */}\r\n      <ul>{raffle.participants.map(p => <li key={p.ticketNumber}>{p.displayName}</li>)}</ul>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default RaffleDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}